!function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define(["chartist"],(function(o){return t["Chartist.plugins.tooltip"]=e(o)})):"object"==typeof module&&module.exports?module.exports=e(require("chartist")):t["Chartist.plugins.tooltip"]=e(t.Chartist)}(this,(function(t){return function(t,e,o){"use strict";var n={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!0,class:void 0,pointClass:"ct-point"};function i(t,e){return-1<(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")}function a(o){var n;return a in o?n=(n=o.offsetParent)||e.body.parentElement:(n=o.parentNode)?"static"!==t.getComputedStyle(n).position?n:"BODY"===n.tagName?n.parentElement:a(n):e.body.parentElement}o.plugins=o.plugins||{},o.plugins.tooltip=function(s){return s=o.extend({},n,s),function(n){var r=s.pointClass;n instanceof o.Bar?r="ct-bar":n instanceof o.Pie&&(r=n.options.donut?n.options.donutSolid?"ct-slice-donut-solid":"ct-slice-donut":"ct-slice-pie");var l=n.container,c=!1,p=a(l),f=(s.appendToBody?e:l).querySelector(".chartist-tooltip");f||((f=e.createElement("div")).className=s.class?"chartist-tooltip "+s.class:"chartist-tooltip",(s.appendToBody?e.body:l).appendChild(f));var u=f.offsetHeight,d=f.offsetWidth;function g(t,e,o){l.addEventListener(t,(function(t){e&&!i(t.target,e)||o(t)}))}function m(e){u=u||f.offsetHeight;var o,n,i,a,r=-(d=d||f.offsetWidth)/2+s.tooltipOffset.x,c=-u+s.tooltipOffset.y,g=!0===s.anchorToPoint&&e.target.x2&&e.target.y2;!0===s.appendToBody||(r=-(o=p.getBoundingClientRect()).left-t.pageXOffset+r,c=-o.top-t.pageYOffset+c),g?(n=l.getBoundingClientRect(),i=e.target.x2.baseVal.value+n.left+t.pageXOffset,a=e.target.y2.baseVal.value+n.top+t.pageYOffset,f.style.left=i+r+"px",f.style.top=a+c+"px"):(f.style.left=e.pageX+r+"px",f.style.top=e.pageY+c+"px")}function y(t){c=!1;var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}y(f),g("mouseover",r,(function(t){var r=t.target,g="",y=(n instanceof o.Pie?r:r.parentNode)?r.parentNode.getAttribute("ct:meta")||r.parentNode.getAttribute("ct:series-name"):"",h=r.getAttribute("ct:meta")||y||"",v=!!h,b=r.getAttribute("ct:value");s.transformTooltipTextFnc&&"function"==typeof s.transformTooltipTextFnc&&(b=s.transformTooltipTextFnc(b)),s.tooltipFnc&&"function"==typeof s.tooltipFnc?g=s.tooltipFnc(h,b):(s.metaIsHTML&&((y=e.createElement("textarea")).innerHTML=h,h=y.value),h='<span class="chartist-tooltip-meta">'+h+"</span>",v?g+=h+"<br>":n instanceof o.Pie&&(r=function(t){for(;(t=t.nextSibling)&&!i(t,"ct-label"););return t}(r))&&(g+=(r.innerText||r.textContent)+"<br>"),b&&(s.currency&&(b=null!=s.currencyFormatCallback?s.currencyFormatCallback(b,s):s.currency+b.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),g+=b='<span class="chartist-tooltip-value">'+b+"</span>")),g&&(f.innerHTML=g,u=f.offsetHeight,d=f.offsetWidth,!0!==s.appendToBody&&(p=a(l)),"absolute"!==f.style.display&&(f.style.display="absolute"),m(t),c=!0,i(t=f,"tooltip-show")||(t.className=t.className+" tooltip-show"),u=f.offsetHeight,d=f.offsetWidth)})),g("mouseout",r,(function(){y(f)})),g("mousemove",null,(function(t){!1===s.anchorToPoint&&c&&m(t)}))}}}(window,document,t),t.plugins.tooltip}));