!function(i){"use strict";function e(i,e,s,t,n,o,l){var a,r,c,p=Math.pow,u=Math.sqrt;return[s+(r=l*(a=u(p(s-i,2)+p(t-e,2)))/(a+u(p(n-s,2)+p(o-t,2))))*(i-n),t+r*(e-o),s-(c=l-r)*(i-n),t-c*(e-o)]}function s(i,e,s,t){(void 0===e||"bezier"!==e&&"quadratic"!==e)&&(e="quadratic"),e+="CurveTo",0==n.length?n.push([s[0],s[1],t.concat(s.slice(2)),e]):"quadraticCurveTo"==e&&2==s.length?(t=t.slice(0,2).concat(s),n.push([s[0],s[1],t,e])):n.push([s[2],s[3],t.concat(s.slice(2)),e])}function t(t,o,l){if(!0===l.splines.show){var a,r,c,p=[],u=l.splines.tension||.5,h=l.datapoints.points,f=l.datapoints.pointsize,d=t.getPlotOffset(),v=h.length,x=[];if(n=[],4>v/f)return void i.extend(l.lines,l.splines);for(a=0;v>a;a+=f)r=h[a],c=h[a+1],null==r||r<l.xaxis.min||r>l.xaxis.max||c<l.yaxis.min||c>l.yaxis.max||x.push(l.xaxis.p2c(r)+d.left,l.yaxis.p2c(c)+d.top);for(v=x.length,a=0;v-2>a;a+=2)p=p.concat(e.apply(this,x.slice(a,a+6).concat([u])));for(o.save(),o.strokeStyle=l.color,o.lineWidth=l.splines.lineWidth,s(0,"quadratic",x.slice(0,4),p.slice(0,2)),a=2;v-3>a;a+=2)s(0,"bezier",x.slice(a,a+4),p.slice(2*a-2,2*a+2));s(0,"quadratic",x.slice(v-2,v),[p[2*v-10],p[2*v-9],x[v-4],x[v-3]]),function(e,s,t,n,o){var l=i.color.parse(o);l.a="number"==typeof n?n:.3,l.normalize(),l=l.toString(),s.beginPath(),s.moveTo(e[0][0],e[0][1]);for(var a=e.length,r=0;a>r;r++)s[e[r][3]].apply(s,e[r][2]);s.stroke(),s.lineWidth=0,s.lineTo(e[a-1][0],t),s.lineTo(e[0][0],t),s.closePath(),!1!==n&&(s.fillStyle=l,s.fill())}(n,o,t.height()+10,l.splines.fill,l.color),o.restore()}}var n=[];i.plot.plugins.push({init:function(i){i.hooks.drawSeries.push(t)},options:{series:{splines:{show:!1,lineWidth:2,tension:.5,fill:!1}}},name:"spline",version:"0.8.2"})}(jQuery);